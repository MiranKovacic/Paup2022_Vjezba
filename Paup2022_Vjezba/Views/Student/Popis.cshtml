@using Paup2022_Vjezba.Models
@model List<Student>
@{
    ViewBag.Title = "Popis Studenata";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>Popis studenata</h2>

<a href="@Url.Action("Azuriraj", "Student")" class="btn btn-success">
    <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
    Kreiranje novog studenta
</a>
<br />
<br />

@using (Html.BeginForm("Popis", "Student", FormMethod.Get, new { @class="form-inline"}))
{
    @Html.TextBox("naziv", "", new { @class = "form-control", placeholder="Naziv Studenta" })
    @Html.DropDownList("Smjer",
    new SelectList(ViewBag.Smjerovi, "Sifra", "Naziv", ""), "Svi smjerovi",
    new { @class = "form-control", style = "margin-left: 10px;"} )
    <div class="form-control" style="margin-left: 10px;">
        <label class="radio-inline">
            @Html.RadioButton("spol", "M") Muški
        </label>
        <label class="radio-inline">
            @Html.RadioButton("spol", "Z") Ženski
        </label>
        <label class="radio-inline">
            @Html.RadioButton("spol", "") Svi
        </label>
    </div>

    <button type="submit" class="btn btn-primary">
        <span class="glyphicon glyphicon-search" aria-hidden="true"></span>
        Traži
    </button>
}
@if (Model.Count() <= 0)
{
    <p>Nema rezultata pretrage!</p>
}
else
{
    <table border="1">
        <tr>
            <th>ID</th>
            <th>Ime</th>
            <th>Prezime</th>
            <th>Oib</th>
            <th>Smjer</th>
            <th>Redovan</th>
            <th>Akcije</th>
        </tr>
        @foreach (Student student in Model)
        {
    <tr>
        <td>@student.ID</td>
        <td>@student.Ime</td>
        <td>@student.Prezime</td>
        <td>@student.OIB</td>
        <td>@(student.UpisaniSmjer?.Naziv)</td>
        <td>@Html.CheckBox("chbRedovan", student.RedovniStudent, new { @class = "name", @readonly = "readonly" })</td>
        <td>@Html.ActionLink("Info", "Detalji", new { id = student.ID }, new { @class = "btn btn-info btn-sm" })</td>
        <td>@Html.ActionLink("Ažuriraj", "Azuriraj", new { id = student.ID }, new { @class = "btn btn-warning btn-sm" })</td>
        <td>@Html.ActionLink("Izbriši", "Brisi", new { id = student.ID }, new { @class = "btn btn-danger btn-sm" })</td>
    </tr>
        }
    </table>
}

